<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>javascript回到顶部</title>
<script type="text/javascript">
window.onload=function(){
	var oBtn=document.getElementById("btn");
	var oClient=document.documentElement.clientHeight||document.body.clientHeight;
	var timer=null;
	var isTop=true;

	window.onscroll=function(){
		var oTop=document.documentElement.scrollTop||document.body.scrollTop;
		if(oTop>=oClient){
			oBtn.style.display="block";
		}
		else{
			oBtn.style.display="none";
		}
		
		if(!isTop){
			clearInterval(timer);
		}
		isTop=false;
	}

	oBtn.onclick=function(){
		timer=setInterval(function(){
			var oTop=document.documentElement.scrollTop||document.body.scrollTop;
			var speed=Math.floor(-oTop/4);
			console.log(oTop+speed);
			document.documentElement.scrollTop=document.body.scrollTop=oTop+speed;
			isTop=true;
			if(oTop==0){
				clearInterval(timer);
			}
		},30)
	}
}
</script>
<style type="text/css">
	.bg{
		width: 1190px;
		height: 2787px;
		margin:0 auto;
	}
	#btn{
		background: url("images/top_bg.png") no-repeat 0 0;
		width: 40px;
		height: 40px;
		display: none;
		position: fixed;
		bottom: 15px;
		left: 1270px;
	}
	#btn:hover{
		background: url("images/top_bg.png") no-repeat 0 -39px;
	}

</style>
</head>
<body>
	<div class="bg">
		<img src="images/tb_bg.jpg" />
	</div>
	<a href="javascript:;" id="btn" title="回到顶部"></a>
</body>
</html>